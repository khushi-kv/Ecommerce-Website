{"ast":null,"code":"import React from 'react';\nimport { createSlice } from '@reduxjs/toolkit';\nconst fetchFromLocalStorage = () => {\n  let cart = localStorage.getItem('cart');\n  if (cart) {\n    return JSON.parse(localStorage.getItem('cart'));\n  } else {\n    return;\n  }\n};\nconst storeInLocalStorage = data => {\n  localStorage.setItem('cart', JSON.stringify(data));\n};\nconst initialState = {\n  carts: fetchFromLocalStorage(),\n  itemsCount: 0,\n  totalAmount: 0,\n  isCartMessageOn: false\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const isItemInCart = state.carts.find(item => item.id === action.payload.id);\n      if (isItemInCart) {\n        const tempCart = state.carts.map(item => {\n          if (item.id === action.payload.id) {\n            let tempQty = item.quantity + action.payload.quantity;\n            let tempTotalPrice = tempQty * item.price;\n            return {\n              ...item,\n              quantity: tempQty,\n              totalPrice: tempTotalPrice\n            };\n          } else {\n            return item;\n          }\n        });\n        state.carts = tempCart;\n        // storeInLocalStorage(state.carts);\n        console.log(state.carts);\n      } else {\n        state.carts.push(action.payload);\n        // storeInLocalStorage(state.carts);\n      }\n    }\n  }\n});\n\nexport const {\n  addToCart\n} = cartSlice.actions;\nexport const getAllCarts = state => state.cart.carts;\nexport const getCartItemsCount = state => state.cart.itemsCount;\nexport default cartSlice.reducer;","map":{"version":3,"names":["React","createSlice","fetchFromLocalStorage","cart","localStorage","getItem","JSON","parse","storeInLocalStorage","data","setItem","stringify","initialState","carts","itemsCount","totalAmount","isCartMessageOn","cartSlice","name","reducers","addToCart","state","action","isItemInCart","find","item","id","payload","tempCart","map","tempQty","quantity","tempTotalPrice","price","totalPrice","console","log","push","actions","getAllCarts","getCartItemsCount","reducer"],"sources":["/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/store/CartSlice.js"],"sourcesContent":["import React from 'react'\nimport { createSlice } from '@reduxjs/toolkit'\n\nconst fetchFromLocalStorage=()=>{\n    let cart=localStorage.getItem('cart');\n    if(cart)\n    {\n        return JSON.parse(localStorage.getItem('cart'));\n    }\n    else{\n        return;\n    }\n}\nconst storeInLocalStorage=(data)=>{\n    localStorage.setItem('cart',JSON.stringify(data));\n}\nconst initialState={\ncarts:fetchFromLocalStorage(),\nitemsCount:0,\ntotalAmount:0,\nisCartMessageOn:false\n}\nconst cartSlice=createSlice({\n    name:'cart',\n    initialState,\n    reducers:{\n        addToCart:(state,action)=>{\n            const isItemInCart=state.carts.find(item=>\n                item.id===action.payload.id);\n            \n                if(isItemInCart){\n                    const tempCart=state.carts.map(item=>{\n                        if(item.id===action.payload.id){\n                            let tempQty = item.quantity + action.payload.quantity;\n                        let tempTotalPrice = tempQty * item.price;\n\n                            return {\n                                ...item, quantity: tempQty, totalPrice: tempTotalPrice\n                            }\n\n                        }\n                        else{\n                            return item;\n                        }\n                    })\n                    state.carts = tempCart;\n                // storeInLocalStorage(state.carts);\n                console.log(state.carts);\n                    \n                }\n                else{\n                    state.carts.push(action.payload);\n                    // storeInLocalStorage(state.carts);\n                   \n                }\n          \n        }\n    }\n})\nexport const {addToCart}=cartSlice.actions;\nexport const getAllCarts = (state) => state.cart.carts;\nexport const getCartItemsCount = (state) => state.cart.itemsCount;\nexport default cartSlice.reducer;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,qBAAqB,GAAC,MAAI;EAC5B,IAAIC,IAAI,GAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EACrC,IAAGF,IAAI,EACP;IACI,OAAOG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD,CAAC,MACG;IACA;EACJ;AACJ,CAAC;AACD,MAAMG,mBAAmB,GAAEC,IAAI,IAAG;EAC9BL,YAAY,CAACM,OAAO,CAAC,MAAM,EAACJ,IAAI,CAACK,SAAS,CAACF,IAAI,CAAC,CAAC;AACrD,CAAC;AACD,MAAMG,YAAY,GAAC;EACnBC,KAAK,EAACX,qBAAqB,EAAE;EAC7BY,UAAU,EAAC,CAAC;EACZC,WAAW,EAAC,CAAC;EACbC,eAAe,EAAC;AAChB,CAAC;AACD,MAAMC,SAAS,GAAChB,WAAW,CAAC;EACxBiB,IAAI,EAAC,MAAM;EACXN,YAAY;EACZO,QAAQ,EAAC;IACLC,SAAS,EAAC,CAACC,KAAK,EAACC,MAAM,KAAG;MACtB,MAAMC,YAAY,GAACF,KAAK,CAACR,KAAK,CAACW,IAAI,CAACC,IAAI,IACpCA,IAAI,CAACC,EAAE,KAAGJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;MAE5B,IAAGH,YAAY,EAAC;QACZ,MAAMK,QAAQ,GAACP,KAAK,CAACR,KAAK,CAACgB,GAAG,CAACJ,IAAI,IAAE;UACjC,IAAGA,IAAI,CAACC,EAAE,KAAGJ,MAAM,CAACK,OAAO,CAACD,EAAE,EAAC;YAC3B,IAAII,OAAO,GAAGL,IAAI,CAACM,QAAQ,GAAGT,MAAM,CAACK,OAAO,CAACI,QAAQ;YACzD,IAAIC,cAAc,GAAGF,OAAO,GAAGL,IAAI,CAACQ,KAAK;YAErC,OAAO;cACH,GAAGR,IAAI;cAAEM,QAAQ,EAAED,OAAO;cAAEI,UAAU,EAAEF;YAC5C,CAAC;UAEL,CAAC,MACG;YACA,OAAOP,IAAI;UACf;QACJ,CAAC,CAAC;QACFJ,KAAK,CAACR,KAAK,GAAGe,QAAQ;QAC1B;QACAO,OAAO,CAACC,GAAG,CAACf,KAAK,CAACR,KAAK,CAAC;MAExB,CAAC,MACG;QACAQ,KAAK,CAACR,KAAK,CAACwB,IAAI,CAACf,MAAM,CAACK,OAAO,CAAC;QAChC;MAEJ;IAER;EACJ;AACJ,CAAC,CAAC;;AACF,OAAO,MAAM;EAACP;AAAS,CAAC,GAACH,SAAS,CAACqB,OAAO;AAC1C,OAAO,MAAMC,WAAW,GAAIlB,KAAK,IAAKA,KAAK,CAAClB,IAAI,CAACU,KAAK;AACtD,OAAO,MAAM2B,iBAAiB,GAAInB,KAAK,IAAKA,KAAK,CAAClB,IAAI,CAACW,UAAU;AACjE,eAAeG,SAAS,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}