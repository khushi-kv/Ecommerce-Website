{"ast":null,"code":"import _regeneratorRuntime from\"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{BASE_URL}from\"../utils/apiURL\";import{STATUS}from\"../utils/status\";var initialState={categories:[],categoriesStatus:STATUS.IDLE,categoryProducts:[],categoryProductsStatus:STATUS.IDLE};var categorySlice=createSlice({name:'category',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchAsyncCategories.pending,function(state,action){state.categoriesStatus=STATUS.LOADING;}).addCase(fetchAsyncCategories.fulfilled,function(state,action){state.categories=action.payload;state.categoriesStatus=STATUS.SUCCEEDED;}).addCase(fetchAsyncCategories.rejected,function(state,action){state.categoriesStatus=STATUS.FAILED;}).addCase(fetchAsyncProductsOfCategory.pending,function(state,action){state.categoryProductsStatus=STATUS.FAILED;}).addCase(fetchAsyncProductsOfCategory.fulfilled,function(state,action){state.categoryProducts=action.payload;state.categoryProductsStatus=STATUS.SUCCEEDED;}).addCase(fetchAsyncProductsOfCategory.rejected,function(state,action){state.categoryProductsStatus=STATUS.FAILED;});}});export var fetchAsyncCategories=createAsyncThunk(\"categories/fetch\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(BASE_URL,\"products/categories\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);})));export var fetchAsyncProductsOfCategory=createAsyncThunk(\"category-products/fetch\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(category){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(BASE_URL,\"products/category/\").concat(category));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data.products);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}());export var getAllCategories=function getAllCategories(state){return state.category.categories;};export var getAllProductsByCategory=function getAllProductsByCategory(state){return state.category.categoryProducts;};export var getCategoryProductsStatus=function getCategoryProductsStatus(state){return state.category.categoryProductsStatus;};export default categorySlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","BASE_URL","STATUS","initialState","categories","categoriesStatus","IDLE","categoryProducts","categoryProductsStatus","categorySlice","name","reducers","extraReducers","builder","addCase","fetchAsyncCategories","pending","state","action","LOADING","fulfilled","payload","SUCCEEDED","rejected","FAILED","fetchAsyncProductsOfCategory","fetch","response","json","data","category","products","getAllCategories","getAllProductsByCategory","getCategoryProductsStatus","reducer"],"sources":["/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/store/CategorySlice.js"],"sourcesContent":["import {createAsyncThunk,createSlice} from \"@reduxjs/toolkit\";\nimport {BASE_URL} from \"../utils/apiURL\";\nimport {STATUS} from \"../utils/status\";\n\nconst initialState={\n    categories:[],\n    categoriesStatus:STATUS.IDLE,\n    categoryProducts:[],\n    categoryProductsStatus:STATUS.IDLE\n}\nconst categorySlice=createSlice({\n    name:'category',\n    initialState,\n    reducers:{},\n    extraReducers:(builder)=>{\n        builder\n        .addCase(fetchAsyncCategories.pending,(state,action)=>{\n            state.categoriesStatus=STATUS.LOADING;\n        })\n        .addCase(fetchAsyncCategories.fulfilled,(state,action)=>{\n            state.categories=action.payload;\n            state.categoriesStatus=STATUS.SUCCEEDED;\n        })\n        .addCase(fetchAsyncCategories.rejected,(state,action)=>{\n            state.categoriesStatus=STATUS.FAILED;\n        })\n        .addCase(fetchAsyncProductsOfCategory.pending,(state,action)=>{\n            state.categoryProductsStatus=STATUS.FAILED;\n\n        })\n        .addCase(fetchAsyncProductsOfCategory.fulfilled,(state,action)=>{\n            state.categoryProducts=action.payload;\n            state.categoryProductsStatus=STATUS.SUCCEEDED;\n        })\n        .addCase(fetchAsyncProductsOfCategory.rejected,(state,action)=>{\n            state.categoryProductsStatus=STATUS.FAILED;\n        })\n    }\n});\nexport const fetchAsyncCategories=createAsyncThunk(\n    \"categories/fetch\",async()=>{\n    const response=await fetch(`${BASE_URL}products/categories`);\n    const data=await response.json();\n    return data;\n})\nexport const fetchAsyncProductsOfCategory = createAsyncThunk(\n    \"category-products/fetch\",\n    async (category) => {\n      const response = await fetch(`${BASE_URL}products/category/${category}`);\n      const data = await response.json();\n      return data.products;\n    }\n  );\n\n  export const getAllCategories = (state) => state.category.categories;\n  export const getAllProductsByCategory = (state) =>\n  state.category.categoryProducts;\nexport const getCategoryProductsStatus = (state) =>\n  state.category.categoryProductsStatus;\n  export default categorySlice.reducer;"],"mappings":"8SAAA,OAAQA,gBAAgB,CAACC,WAAW,KAAO,kBAAkB,CAC7D,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,MAAM,KAAO,iBAAiB,CAEtC,GAAMC,aAAY,CAAC,CACfC,UAAU,CAAC,EAAE,CACbC,gBAAgB,CAACH,MAAM,CAACI,IAAI,CAC5BC,gBAAgB,CAAC,EAAE,CACnBC,sBAAsB,CAACN,MAAM,CAACI,IAClC,CAAC,CACD,GAAMG,cAAa,CAACT,WAAW,CAAC,CAC5BU,IAAI,CAAC,UAAU,CACfP,YAAY,CAAZA,YAAY,CACZQ,QAAQ,CAAC,CAAC,CAAC,CACXC,aAAa,CAAC,uBAACC,OAAO,CAAG,CACrBA,OAAO,CACNC,OAAO,CAACC,oBAAoB,CAACC,OAAO,CAAC,SAACC,KAAK,CAACC,MAAM,CAAG,CAClDD,KAAK,CAACZ,gBAAgB,CAACH,MAAM,CAACiB,OAAO,CACzC,CAAC,CAAC,CACDL,OAAO,CAACC,oBAAoB,CAACK,SAAS,CAAC,SAACH,KAAK,CAACC,MAAM,CAAG,CACpDD,KAAK,CAACb,UAAU,CAACc,MAAM,CAACG,OAAO,CAC/BJ,KAAK,CAACZ,gBAAgB,CAACH,MAAM,CAACoB,SAAS,CAC3C,CAAC,CAAC,CACDR,OAAO,CAACC,oBAAoB,CAACQ,QAAQ,CAAC,SAACN,KAAK,CAACC,MAAM,CAAG,CACnDD,KAAK,CAACZ,gBAAgB,CAACH,MAAM,CAACsB,MAAM,CACxC,CAAC,CAAC,CACDV,OAAO,CAACW,4BAA4B,CAACT,OAAO,CAAC,SAACC,KAAK,CAACC,MAAM,CAAG,CAC1DD,KAAK,CAACT,sBAAsB,CAACN,MAAM,CAACsB,MAAM,CAE9C,CAAC,CAAC,CACDV,OAAO,CAACW,4BAA4B,CAACL,SAAS,CAAC,SAACH,KAAK,CAACC,MAAM,CAAG,CAC5DD,KAAK,CAACV,gBAAgB,CAACW,MAAM,CAACG,OAAO,CACrCJ,KAAK,CAACT,sBAAsB,CAACN,MAAM,CAACoB,SAAS,CACjD,CAAC,CAAC,CACDR,OAAO,CAACW,4BAA4B,CAACF,QAAQ,CAAC,SAACN,KAAK,CAACC,MAAM,CAAG,CAC3DD,KAAK,CAACT,sBAAsB,CAACN,MAAM,CAACsB,MAAM,CAC9C,CAAC,CAAC,CACN,CACJ,CAAC,CAAC,CACF,MAAO,IAAMT,qBAAoB,CAAChB,gBAAgB,CAC9C,kBAAkB,wEAAC,4KACE2B,MAAK,WAAIzB,QAAQ,wBAAsB,QAAtD0B,QAAQ,qCACGA,SAAQ,CAACC,IAAI,EAAE,QAA1BC,IAAI,+CACHA,IAAI,uDACd,GAAC,CACF,MAAO,IAAMJ,6BAA4B,CAAG1B,gBAAgB,CACxD,yBAAyB,6FACzB,kBAAO+B,QAAQ,gKACUJ,MAAK,WAAIzB,QAAQ,8BAAqB6B,QAAQ,EAAG,QAAlEH,QAAQ,uCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,iDACHA,IAAI,CAACE,QAAQ,yDACrB,gEACF,CAED,MAAO,IAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIf,KAAK,QAAKA,MAAK,CAACa,QAAQ,CAAC1B,UAAU,GACpE,MAAO,IAAM6B,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIhB,KAAK,QAC9CA,MAAK,CAACa,QAAQ,CAACvB,gBAAgB,GACjC,MAAO,IAAM2B,0BAAyB,CAAG,QAA5BA,0BAAyB,CAAIjB,KAAK,QAC7CA,MAAK,CAACa,QAAQ,CAACtB,sBAAsB,GACrC,cAAeC,cAAa,CAAC0B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}