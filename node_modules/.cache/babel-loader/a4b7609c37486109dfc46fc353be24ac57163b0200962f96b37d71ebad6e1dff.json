{"ast":null,"code":"import _objectSpread from\"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var fetchFromLocalStorage=function fetchFromLocalStorage(){var cart=localStorage.getItem(\"cart\");if(cart){console.log(\"fetch\");return JSON.parse(localStorage.getItem(\"cart\"));}else{return[];}};var storeInLocalStorage=function storeInLocalStorage(data){localStorage.setItem(\"cart\",JSON.stringify(data));console.log(data);};var initialState={carts:fetchFromLocalStorage(),itemsCount:0,totalAmount:0,isCartMessageOn:false};var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addToCart:function addToCart(state,action){var isItemInCart=state.carts.find(function(item){return item.id===action.payload.id;});if(isItemInCart){var tempCart=state.carts.map(function(item){if(item.id===action.payload.id){var tempQty=item.quantity+action.payload.quantity;var tempTotalPrice=tempQty*item.price;return _objectSpread(_objectSpread({},item),{},{quantity:tempQty,totalPrice:tempTotalPrice});}else{return item;}});state.carts=tempCart;storeInLocalStorage(state.carts);}else{state.carts.push(action.payload);storeInLocalStorage(state.carts);}},// removeFromCart: (state, action) => {\n//   const tempCart = state.carts.filter((item) => item.id !== action.payload);\n//   // console.log(\"delete\",item.id),\n//   state.carts = tempCart;\n//   storeInLocalStorage(state.carts);\n// },\nremoveFromCart:function removeFromCart(state,action){var tempCart=state.carts.filter(function(item){return item.id!==action.payload;});state.carts=tempCart;storeInLocalStorage(state.carts);},clearCart:function clearCart(state){state.carts=[];storeInLocalStorage(state.carts);},getCartTotal:function getCartTotal(state){state.totalAmount=state.carts.reduce(function(cartTotal,cartItem){return cartTotal+=cartItem.totalPrice;},0);state.itemsCount=state.carts.length;},toggleCartQty:function toggleCartQty(state,action){var tempCart=state.carts.map(function(item){if(item.id===action.payload.id){var tempQty=item.quantity;var tempTotalPrice=item.totalPrice;if(action.payload.type===\"INC\"){tempQty++;if(tempQty===item.stock)tempQty=item.stock;tempTotalPrice=tempQty*item.discountedPrice;}if(action.payload.type===\"DEC\"){tempQty--;if(tempQty<1)tempQty=1;tempTotalPrice=tempQty*item.discountedPrice;}return _objectSpread(_objectSpread({},item),{},{quantity:tempQty,totalPrice:tempTotalPrice});}else{return item;}});state.carts=tempCart;storeInLocalStorage(state.carts);},setCartMessageOn:function setCartMessageOn(state){state.isCartMessageOn=true;},setCartMessageOff:function setCartMessageOff(state){state.isCartMessageOn=false;}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,setCartMessageOn=_cartSlice$actions.setCartMessageOn,setCartMessageOff=_cartSlice$actions.setCartMessageOff,getCartTotal=_cartSlice$actions.getCartTotal,removeFromCart=_cartSlice$actions.removeFromCart,toggleCartQty=_cartSlice$actions.toggleCartQty,clearCart=_cartSlice$actions.clearCart;export{addToCart,setCartMessageOn,setCartMessageOff,getCartTotal,removeFromCart,toggleCartQty,clearCart};export var getAllCarts=function getAllCarts(state){return state.cart.carts;};export var getCartItemsCount=function getCartItemsCount(state){return state.cart.itemsCount;};export var getCartMessageStatus=function getCartMessageStatus(state){return state.cart.isCartMessageOn;};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","fetchFromLocalStorage","cart","localStorage","getItem","console","log","JSON","parse","storeInLocalStorage","data","setItem","stringify","initialState","carts","itemsCount","totalAmount","isCartMessageOn","cartSlice","name","reducers","addToCart","state","action","isItemInCart","find","item","id","payload","tempCart","map","tempQty","quantity","tempTotalPrice","price","totalPrice","push","removeFromCart","filter","clearCart","getCartTotal","reduce","cartTotal","cartItem","length","toggleCartQty","type","stock","discountedPrice","setCartMessageOn","setCartMessageOff","actions","getAllCarts","getCartItemsCount","getCartMessageStatus","reducer"],"sources":["/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/store/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst fetchFromLocalStorage = () => {\n  let cart = localStorage.getItem(\"cart\");\n  if (cart) {\n    console.log(\"fetch\");\n    return JSON.parse(localStorage.getItem(\"cart\"));\n  } else {\n    return [];\n  }\n};\n\nconst storeInLocalStorage = (data) => {\n  localStorage.setItem(\"cart\", JSON.stringify(data));\n  console.log(data);\n};\nconst initialState = {\n  carts: fetchFromLocalStorage(),\n  itemsCount: 0,\n  totalAmount: 0,\n  isCartMessageOn: false,\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const isItemInCart = state.carts.find(\n        (item) => item.id === action.payload.id\n      );\n\n      if (isItemInCart) {\n        const tempCart = state.carts.map((item) => {\n          if (item.id === action.payload.id) {\n            let tempQty = item.quantity + action.payload.quantity;\n            let tempTotalPrice = tempQty * item.price;\n\n            return {\n              ...item,\n              quantity: tempQty,\n              totalPrice: tempTotalPrice,\n            };\n          } else {\n            return item;\n          }\n        });\n        state.carts = tempCart;\n        storeInLocalStorage(state.carts);\n      } else {\n        state.carts.push(action.payload);\n        storeInLocalStorage(state.carts);\n      }\n    },\n    // removeFromCart: (state, action) => {\n    //   const tempCart = state.carts.filter((item) => item.id !== action.payload);\n    //   // console.log(\"delete\",item.id),\n    //   state.carts = tempCart;\n    //   storeInLocalStorage(state.carts);\n    // },\n    removeFromCart: (state, action) => {\n      const tempCart = state.carts.filter(item => item.id !== action.payload);\n      state.carts = tempCart;\n      storeInLocalStorage(state.carts);\n  },\n\n    clearCart: (state) => {\n      state.carts = [];\n      storeInLocalStorage(state.carts);\n    },\n    getCartTotal: (state) => {\n      state.totalAmount = state.carts.reduce((cartTotal, cartItem) => {\n        return (cartTotal += cartItem.totalPrice);\n      }, 0);\n      state.itemsCount = state.carts.length;\n    },\n    toggleCartQty: (state, action) => {\n      const tempCart = state.carts.map((item) => {\n        if (item.id === action.payload.id) {\n          let tempQty = item.quantity;\n          let tempTotalPrice = item.totalPrice;\n\n          if (action.payload.type === \"INC\") {\n            tempQty++;\n            if (tempQty === item.stock) tempQty = item.stock;\n            tempTotalPrice = tempQty * item.discountedPrice;\n          }\n          if (action.payload.type === \"DEC\") {\n            tempQty--;\n            if (tempQty < 1) tempQty = 1;\n            tempTotalPrice = tempQty * item.discountedPrice;\n          }\n          return { ...item, quantity: tempQty, totalPrice: tempTotalPrice };\n        } else {\n          return item;\n        }\n      });\n      state.carts = tempCart;\n      storeInLocalStorage(state.carts);\n    },\n    setCartMessageOn: (state) => {\n      state.isCartMessageOn = true;\n    },\n    setCartMessageOff: (state) => {\n      state.isCartMessageOn = false;\n    },\n  },\n});\n\nexport const {\n  addToCart,\n  setCartMessageOn,\n  setCartMessageOff,\n  getCartTotal,\n  removeFromCart,\n  toggleCartQty,\n  clearCart,\n} = cartSlice.actions;\nexport const getAllCarts = (state) => state.cart.carts;\nexport const getCartItemsCount = (state) => state.cart.itemsCount;\nexport const getCartMessageStatus = (state) => state.cart.isCartMessageOn;\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}