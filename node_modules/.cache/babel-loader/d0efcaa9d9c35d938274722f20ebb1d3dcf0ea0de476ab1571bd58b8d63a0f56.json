{"ast":null,"code":"var _jsxFileName = \"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/context/userContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile, sendPasswordResetEmail } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\nexport const useUserContext = () => {\n  _s();\n  return useContext(UserContext);\n};\n_s(useUserContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const UserContextProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    setLoading(true);\n    const unsubscribe = onAuthStateChanged(auth, res => {\n      if (res) {\n        setUser(res);\n      } else {\n        setUser(null);\n      }\n      setError(\"\");\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n  const registerUser = (email, password, name) => {\n    setLoading(true);\n    createUserWithEmailAndPassword(auth, email, password).then(() => updateProfile(auth.currentUser, {\n      displayName: name\n    })).then(res => console.log(res)).catch(err => setError(err.message)).finally(() => setLoading(false));\n  };\n  const signInUser = (email, password) => {\n    setLoading(true);\n    signInWithEmailAndPassword(auth, email, password).then(res => console.log(res)).catch(err => setError(err.code)).finally(() => setLoading(false));\n  };\n  const logoutUser = () => {\n    signOut(auth);\n  };\n  const forgotPassword = email => {\n    return sendPasswordResetEmail(auth, email);\n  };\n  const contextValue = {\n    user,\n    loading,\n    error,\n    signInUser,\n    registerUser,\n    logoutUser,\n    forgotPassword\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s2(UserContextProvider, \"0EwV4g79fvB4POoMus96Q+INVwY=\");\n_c = UserContextProvider;\nvar _c;\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","signInWithEmailAndPassword","createUserWithEmailAndPassword","onAuthStateChanged","signOut","updateProfile","sendPasswordResetEmail","auth","UserContext","useUserContext","UserContextProvider","children","user","setUser","loading","setLoading","error","setError","unsubscribe","res","registerUser","email","password","name","then","currentUser","displayName","console","log","catch","err","message","finally","signInUser","code","logoutUser","forgotPassword","contextValue"],"sources":["/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/context/userContext.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\nimport {\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  updateProfile,\n  sendPasswordResetEmail,\n} from \"firebase/auth\";\nimport { auth } from \"../firebase\";\n\nexport const UserContext = createContext({});\n\nexport const useUserContext = () => {\n  return useContext(UserContext);\n};\n\nexport const UserContextProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    setLoading(true);\n    const unsubscribe = onAuthStateChanged(auth, (res) => {\n      if (res) {\n        setUser(res);\n      } else {\n        setUser(null);\n      }\n      setError(\"\");\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  const registerUser = (email, password, name) => {\n    setLoading(true);\n    createUserWithEmailAndPassword(auth, email, password)\n      .then(() =>\n        updateProfile(auth.currentUser, {\n          displayName: name,\n        })\n      )\n      .then((res) => console.log(res))\n      .catch((err) => setError(err.message))\n      .finally(() => setLoading(false));\n  };\n\n  const signInUser = (email, password) => {\n    setLoading(true);\n    signInWithEmailAndPassword(auth, email, password)\n      .then((res) => console.log(res))\n      .catch((err) => setError(err.code))\n      .finally(() => setLoading(false));\n  };\n\n  const logoutUser = () => {\n    signOut(auth);\n  };\n\n  const forgotPassword = (email) => {\n    return sendPasswordResetEmail(auth, email);\n  };\n\n  const contextValue = {\n    user,\n    loading,\n    error,\n    signInUser,\n    registerUser,\n    logoutUser,\n    forgotPassword,\n  };\n  return (\n    <UserContext.Provider value={contextValue}>{children}</UserContext.Provider>\n  );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}