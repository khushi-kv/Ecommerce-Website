{"ast":null,"code":"import _regeneratorRuntime from\"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{BASE_URL}from\"../utils/apiURL\";import{STATUS}from\"../utils/status\";var initialState={searchProducts:[],searchProductsStatus:STATUS.IDLE};var searchSlice=createSlice({name:\"search\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchAsyncSearchProduct.pending,function(state,action){state.searchProductsStatus=STATUS.LOADING;}).addCase(fetchAsyncSearchProduct.fulfilled,function(state,action){state.searchProducts=action.payload;state.searchProductsStatus=STATUS.SUCCEEDED;}).addCase(fetchAsyncSearchProduct.rejected,function(state,action){state.searchProductsStatus=STATUS.FAILED;});}});export var fetchAsyncSearchProduct=createAsyncThunk('product-search/fetch',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchTerm){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(BASE_URL,\"products/search?q=\").concat(searchTerm));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data.products);case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getSearchProducts=function getSearchProducts(state){return state.search.searchProducts;};export var getSearchProductsStatus=function getSearchProductsStatus(state){return state.search.searchProductsStatus;};var _searchSlice$actions=searchSlice.actions,setSearchTerm=_searchSlice$actions.setSearchTerm,clearSearch=_searchSlice$actions.clearSearch;export{setSearchTerm,clearSearch};export default searchSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","BASE_URL","STATUS","initialState","searchProducts","searchProductsStatus","IDLE","searchSlice","name","reducers","extraReducers","builder","addCase","fetchAsyncSearchProduct","pending","state","action","LOADING","fulfilled","payload","SUCCEEDED","rejected","FAILED","searchTerm","fetch","response","json","data","products","getSearchProducts","search","getSearchProductsStatus","actions","setSearchTerm","clearSearch","reducer"],"sources":["/Users/khushiverma/Desktop/Ecommerce-Website/shoppingcart/src/store/SearchSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../utils/apiURL\";\nimport { STATUS } from \"../utils/status\";\n\nconst initialState = {\n  searchProducts: [],\n  searchProductsStatus: STATUS.IDLE,\n};\n\nconst searchSlice = createSlice({\n  name: \"search\",\n  initialState,\n  reducers: {\n      \n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAsyncSearchProduct.pending, (state, action) => {\n        state.searchProductsStatus = STATUS.LOADING;\n      })\n\n      .addCase(fetchAsyncSearchProduct.fulfilled, (state, action) => {\n        state.searchProducts = action.payload;\n        state.searchProductsStatus = STATUS.SUCCEEDED;\n      })\n\n      .addCase(fetchAsyncSearchProduct.rejected, (state, action) => {\n        state.searchProductsStatus = STATUS.FAILED;\n      });\n  },\n});\nexport const fetchAsyncSearchProduct = createAsyncThunk(\n  'product-search/fetch',\n  async (searchTerm) => {\n    const response = await fetch(`${BASE_URL}products/search?q=${searchTerm}`);\n\n    const data = await response.json();\n\n    return data.products;\n  }\n);\n\n\nexport const getSearchProducts = (state) => state.search.searchProducts;\nexport const getSearchProductsStatus = (state) => state.search.searchProductsStatus;\nexport const { setSearchTerm, clearSearch } = searchSlice.actions;\nexport default searchSlice.reducer;"],"mappings":"8SAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,MAAM,KAAQ,iBAAiB,CAExC,GAAMC,aAAY,CAAG,CACnBC,cAAc,CAAE,EAAE,CAClBC,oBAAoB,CAAEH,MAAM,CAACI,IAC/B,CAAC,CAED,GAAMC,YAAW,CAAGP,WAAW,CAAC,CAC9BQ,IAAI,CAAE,QAAQ,CACdL,YAAY,CAAZA,YAAY,CACZM,QAAQ,CAAE,CAEV,CAAC,CACDC,aAAa,CAAE,uBAACC,OAAO,CAAK,CAC1BA,OAAO,CACJC,OAAO,CAACC,uBAAuB,CAACC,OAAO,CAAE,SAACC,KAAK,CAAEC,MAAM,CAAK,CAC3DD,KAAK,CAACV,oBAAoB,CAAGH,MAAM,CAACe,OAAO,CAC7C,CAAC,CAAC,CAEDL,OAAO,CAACC,uBAAuB,CAACK,SAAS,CAAE,SAACH,KAAK,CAAEC,MAAM,CAAK,CAC7DD,KAAK,CAACX,cAAc,CAAGY,MAAM,CAACG,OAAO,CACrCJ,KAAK,CAACV,oBAAoB,CAAGH,MAAM,CAACkB,SAAS,CAC/C,CAAC,CAAC,CAEDR,OAAO,CAACC,uBAAuB,CAACQ,QAAQ,CAAE,SAACN,KAAK,CAAEC,MAAM,CAAK,CAC5DD,KAAK,CAACV,oBAAoB,CAAGH,MAAM,CAACoB,MAAM,CAC5C,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CACF,MAAO,IAAMT,wBAAuB,CAAGd,gBAAgB,CACrD,sBAAsB,4FACtB,iBAAOwB,UAAU,2JACQC,MAAK,WAAIvB,QAAQ,8BAAqBsB,UAAU,EAAG,QAApEE,QAAQ,qCAEKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,+CAEHA,IAAI,CAACC,QAAQ,uDACrB,+DACF,CAGD,MAAO,IAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAId,KAAK,QAAKA,MAAK,CAACe,MAAM,CAAC1B,cAAc,GACvE,MAAO,IAAM2B,wBAAuB,CAAG,QAA1BA,wBAAuB,CAAIhB,KAAK,QAAKA,MAAK,CAACe,MAAM,CAACzB,oBAAoB,GAC5E,yBAAuCE,WAAW,CAACyB,OAAO,CAAlDC,aAAa,sBAAbA,aAAa,CAAEC,WAAW,sBAAXA,WAAW,CAAyB,kCAClE,cAAe3B,YAAW,CAAC4B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}